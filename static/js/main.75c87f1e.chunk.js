(this["webpackJsonpfood-app"]=this["webpackJsonpfood-app"]||[]).push([[0],{159:function(t,e,n){t.exports=n(385)},164:function(t,e,n){},165:function(t,e,n){},183:function(t,e,n){},184:function(t,e,n){},185:function(t,e,n){t.exports=n.p+"static/media/star.b90c8463.png"},385:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(57),r=n.n(i),c=(n(164),n(58)),s=n(59),l=n(61),u=n(60),d=n(62),m=(n(165),n(37)),g=n.n(m),p=n(87),h=n(154),f=n.n(h),k=(n(183),n(184),n(185),n(155)),y=n(156),E=function(t){var e=t.item;return o.a.createElement("div",null,o.a.createElement("div",{className:"restContainer"},o.a.createElement("h2",{className:"locInfo",id:"name"},e.name),o.a.createElement("h3",{className:"locInfo",id:"rat"},e.rating," ",o.a.createElement(k.a,{name:"star",className:"star",icon:y.a,size:"lg",color:"#ffbc30"})),o.a.createElement("h4",{className:"locInfo",id:"loc"},"  "+e.location.address1+", "+e.location.city+", "+e.location.state),o.a.createElement("a",{href:e.url,target:"_blank"}," Find out more here!")),o.a.createElement("div",{className:"picContainer"},o.a.createElement("img",{className:"restPic",src:e.image_url,alt:e.alias})))};function b(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){parseInt(document.getElementById("userLat").setAttribute("text",t.coords.latitude)),parseInt(document.getElementById("userLong").setAttribute("text",t.coords.longitude))}))}var v=n(15),w=[{id:0,coordinates:{latitude:0,longitude:0}}],I=[{id:1,coordinates:{latitude:0,longitude:0}}],B=[{id:2,coordinates:{latitude:0,longitude:0}}],x=[{id:3,coordinates:{latitude:0,longitude:0}}],O=[{id:4,coordinates:{latitude:0,longitude:0}}],j={lat:39.828175,lng:-98.5795},M=3,N=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).hiddenState=function(){n.setState((function(t){return{hidden:!1}}))},n.toggleHidden=function(t){t.preventDefault(),n.setState((function(t){return{result:document.getElementById("userInput").value}})),b(),n.setState((function(t){return{lat:document.getElementById("userLat").getAttribute("text")}})),n.setState((function(t){return{long:document.getElementById("userLong").getAttribute("text")}})),setTimeout(n.hiddenState,2e3),n.waitForData(),j={lat:parseFloat(document.getElementById("userLat").getAttribute("text")),lng:parseFloat(document.getElementById("userLong").getAttribute("text"))},w=[{id:0,coordinates:{latitude:0,longitude:0}}],I=[{id:1,coordinates:{latitude:0,longitude:0}}],B=[{id:2,coordinates:{latitude:0,longitude:0}}],x=[{id:3,coordinates:{latitude:0,longitude:0}}],O=[{id:4,coordinates:{latitude:0,longitude:0}}],M=12},n.state={restData:[],result:"",submit:document.getElementById("submit"),hidden:!0,lat:38.92411,long:-77.21312,WrappedMap:Object(v.withScriptjs)(Object(v.withGoogleMap)(n.Map)),sorter:"best_match"},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"waitForData",value:function(){var t=Object(p.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getData();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"Map",value:function(){return o.a.createElement("div",null,o.a.createElement(v.GoogleMap,{zoom:M,center:j}),o.a.createElement(v.Marker,{key:w[0].id,position:{lat:w[0].coordinates.latitude,lng:w[0].coordinates.longitude},title:w[0].name,onClick:function(){window.open(w[0].url)},icon:"http://maps.google.com/mapfiles/ms/icons/pink-dot.png"}),o.a.createElement(v.Marker,{key:I[0].id,position:{lat:I[0].coordinates.latitude,lng:I[0].coordinates.longitude},title:I[0].name,onClick:function(){window.open(I[0].url)},icon:"http://maps.google.com/mapfiles/ms/icons/pink-dot.png"}),o.a.createElement(v.Marker,{key:B[0].id,position:{lat:B[0].coordinates.latitude,lng:B[0].coordinates.longitude},title:B[0].name,onClick:function(){window.open(B[0].url)},icon:"http://maps.google.com/mapfiles/ms/icons/pink-dot.png"}),o.a.createElement(v.Marker,{key:x[0].id,position:{lat:x[0].coordinates.latitude,lng:x[0].coordinates.longitude},title:x[0].name,onClick:function(){window.open(x[0].url)},icon:"http://maps.google.com/mapfiles/ms/icons/pink-dot.png"}),o.a.createElement(v.Marker,{key:O[0].id,position:{lat:O[0].coordinates.latitude,lng:O[0].coordinates.longitude},title:O[0].name,onClick:function(){window.open(O[0].url)},icon:"http://maps.google.com/mapfiles/ms/icons/pink-dot.png"}),o.a.createElement(v.Marker,{key:"userLocation",position:{lat:parseFloat(document.getElementById("userLat").getAttribute("text")),lng:parseFloat(document.getElementById("userLong").getAttribute("text"))},title:"You are here!",icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"}))}},{key:"setMarkers",value:function(t){w=[t[0]],I=[t[1]],t[2]&&(B=[t[2]]),t[3]&&(x=[t[3]]),t[4]&&(O=[t[4]])}},{key:"sort",value:function(){var t=this;document.getElementById("bestMatch").onclick=function(){t.setState((function(t){return{sorter:"best_match"}})),document.getElementById("submit").click()},document.getElementById("rating").onclick=function(){t.setState((function(t){return{sorter:"rating"}})),document.getElementById("submit").click()},document.getElementById("distance").onclick=function(){t.setState((function(t){return{sorter:"distance"}})),document.getElementById("submit").click()}}},{key:"getData",value:function(){var t=Object(p.a)(g.a.mark((function t(){var e=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:this.sort(),this.state.submit.onclick=this.toggleHidden,f.a.get("https://cors-anywhere.herokuapp.com/".concat("https://api.yelp.com/v3/businesses/search"),{headers:{Authorization:"Bearer ".concat("UsQOWRaqOhE8cTZl7yRBvkL6wbRykncG1Q2s58_-RkequrqlhEKvAFKTvWWBX1HtHaOjxrcN1GsKicxnIdKm_YfPQDYWiVTbbHBZvOVdUjoXaK6ySIVeU_zc2N5eXnYx")},params:{term:this.state.result,latitude:this.state.lat,longitude:this.state.long,sort_by:this.state.sorter}}).then((function(t){e.setState({restData:t.data.businesses}),e.setMarkers(t.data.businesses)})).catch((function(t){return console.log(t)}));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData()}},{key:"renderItems",value:function(){return this.state.restData.map((function(t){return o.a.createElement(E,{key:t.url,item:t})}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"map"},o.a.createElement(this.state.WrappedMap,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyBarhgnOifKoJbC0xF5srNBmzGp1PsAVcs"),loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"100%"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})})),o.a.createElement("div",{style:this.state.hidden?{display:"none"}:{display:"block"}},o.a.createElement("div",{className:"data"},this.renderItems())))}}]),e}(a.Component),A=function(t){function e(t){return Object(c.a)(this,e),Object(l.a)(this,Object(u.a)(e).call(this,t))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"Title"},o.a.createElement(N,null)))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[159,1,2]]]);
//# sourceMappingURL=main.75c87f1e.chunk.js.map